# üîç –ü–æ—á–µ–º—É healthcheck –Ω–µ –ø—Ä–æ—Ö–æ–¥–∏—Ç

## –ü—Ä–æ–±–ª–µ–º–∞

Railway —Å–æ–±–∏—Ä–∞–µ—Ç –æ–±—Ä–∞–∑ —É—Å–ø–µ—à–Ω–æ, –Ω–æ healthcheck `/api/health` –Ω–µ –ø—Ä–æ—Ö–æ–¥–∏—Ç.

## –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:

### 1. –°–µ—Ä–≤–µ—Ä –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
- –û—à–∏–±–∫–∞ –ø—Ä–∏ –∏–º–ø–æ—Ä—Ç–µ –º–æ–¥—É–ª–µ–π
- –û—à–∏–±–∫–∞ –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ Flask
- –ò—Å–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ

### 2. –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ—Ä—Ç
- –°–µ—Ä–≤–µ—Ä —Å–ª—É—à–∞–µ—Ç –Ω–µ –Ω–∞ —Ç–æ–º –ø–æ—Ä—Ç—É, –∫–æ—Ç–æ—Ä—ã–π –æ–∂–∏–¥–∞–µ—Ç Railway
- Railway —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `PORT`, –Ω–æ —Å–µ—Ä–≤–µ—Ä –µ—ë –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç

### 3. –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π host
- –°–µ—Ä–≤–µ—Ä —Å–ª—É—à–∞–µ—Ç —Ç–æ–ª—å–∫–æ –Ω–∞ `127.0.0.1` (localhost)
- –ù—É–∂–Ω–æ —Å–ª—É—à–∞—Ç—å –Ω–∞ `0.0.0.0` (–≤—Å–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã)

### 4. –û—à–∏–±–∫–∞ –≤ –∫–æ–¥–µ
- –ò—Å–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ –∑–∞–ø—Ä–æ—Å–∞
- –ü—Ä–æ–±–ª–µ–º–∞ —Å –ø—É—Ç—è–º–∏ –∫ —Ñ–∞–π–ª–∞–º

## ‚úÖ –ß—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:

1. **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π PORT** - —Å–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–≤–µ—Ä—è–µ–º Railway/Heroku –ø–æ—Ä—Ç
2. **–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π host** - `0.0.0.0` –¥–ª—è Docker/Railway
3. **–£–ª—É—á—à–µ–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** - –≤–∏–¥–Ω–æ —á—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ
4. **–ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∏–º–µ—Ä–æ–≤** - —Ñ–∞–π–ª—ã –ø—Ä–∏–º–µ—Ä–æ–≤ —Ç–µ–ø–µ—Ä—å –≤ Docker –æ–±—Ä–∞–∑–µ
5. **–î–æ–±–∞–≤–ª–µ–Ω gunicorn** - –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç –∑–∞–ø—É—Å–∫–∞

## üîß –ß—Ç–æ –¥–µ–ª–∞—Ç—å:

### –®–∞–≥ 1: –û–±–Ω–æ–≤–∏—Ç–µ –∫–æ–¥

```bash
git add .
git commit -m "Fix healthcheck: improve startup and logging"
git push
```

### –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ Railway

1. Railway ‚Üí **Deployments** ‚Üí –ø–æ—Å–ª–µ–¥–Ω–∏–π –¥–µ–ø–ª–æ–π
2. –û—Ç–∫—Ä–æ–π—Ç–µ **Logs** (Runtime Logs, –Ω–µ Build Logs)
3. –ò—â–∏—Ç–µ:
   - ‚úÖ "üöÄ Insight Backend API –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è..."
   - ‚ùå –õ—é–±—ã–µ –æ—à–∏–±–∫–∏ (—Å–∫–æ–ø–∏—Ä—É–π—Ç–µ –∏—Ö)

### –®–∞–≥ 3: –ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ –æ—à–∏–±–∫–∏ –≤ –ª–æ–≥–∞—Ö

**–û—à–∏–±–∫–∞ –∏–º–ø–æ—Ä—Ç–∞:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤ `requirements.txt`
- –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ `gunicorn` –¥–æ–±–∞–≤–ª–µ–Ω

**–û—à–∏–±–∫–∞ –ø—É—Ç–µ–π:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ —Ñ–∞–π–ª—ã —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω—ã –≤ Dockerfile
- –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ `BASE_DIR` –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è

**–û—à–∏–±–∫–∞ –ø–æ—Ä—Ç–∞:**
- Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `PORT`
- –ö–æ–¥ —Ç–µ–ø–µ—Ä—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ –µ—ë –∏—Å–ø–æ–ª—å–∑—É–µ—Ç

### –®–∞–≥ 4: –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å gunicorn

–ï—Å–ª–∏ Flask –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç–µ—Å—å –Ω–∞ gunicorn:

1. –í Railway Settings ‚Üí Service
2. **Builder:** Dockerfile
3. –ü–µ—Ä–µ–∏–º–µ–Ω—É–π—Ç–µ `Dockerfile.gunicorn` ‚Üí `Dockerfile`
4. –ò–ª–∏ –∏–∑–º–µ–Ω–∏—Ç–µ CMD –≤ —Ç–µ–∫—É—â–µ–º Dockerfile –Ω–∞:
   ```dockerfile
   CMD gunicorn -w 4 -b 0.0.0.0:${PORT:-5000} app:app
   ```

## üìã –ß–µ–∫–ª–∏—Å—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏:

- [ ] –ö–æ–¥ –æ–±–Ω–æ–≤–ª–µ–Ω –Ω–∞ GitHub
- [ ] Railway –ø–µ—Ä–µ–¥–µ–ø–ª–æ–∏–ª
- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω—ã Runtime Logs (–Ω–µ Build Logs)
- [ ] –í–∏–¥–Ω–æ —Å–æ–æ–±—â–µ–Ω–∏–µ "üöÄ Insight Backend API –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è..."
- [ ] –ù–µ—Ç –æ—à–∏–±–æ–∫ –≤ –ª–æ–≥–∞—Ö
- [ ] Healthcheck –ø—Ä–æ—Ö–æ–¥–∏—Ç

## ‚úÖ –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

–°–µ—Ä–≤–µ—Ä –¥–æ–ª–∂–µ–Ω:
- –ó–∞–ø—É—Å–∫–∞—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- –û—Ç–≤–µ—á–∞—Ç—å –Ω–∞ `/api/health`
- –†–∞–±–æ—Ç–∞—Ç—å —Å—Ç–∞–±–∏–ª—å–Ω–æ

---

**–ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –æ—Å—Ç–∞–ª–∞—Å—å - —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ –ª–æ–≥–∏ –∏–∑ Railway –∏ –ø–æ–∫–∞–∂–∏—Ç–µ –∏—Ö!**

