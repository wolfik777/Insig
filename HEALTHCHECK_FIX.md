# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: Healthcheck –Ω–µ –ø—Ä–æ—Ö–æ–¥–∏—Ç

## ‚ùå –ü—Ä–æ–±–ª–µ–º–∞

Railway —É—Å–ø–µ—à–Ω–æ —Å–æ–±–∏—Ä–∞–µ—Ç –æ–±—Ä–∞–∑, –Ω–æ healthcheck –Ω–µ –ø—Ä–æ—Ö–æ–¥–∏—Ç:
- "Attempt #1 failed with service unavailable"
- –°–µ—Ä–≤–µ—Ä –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ `/api/health`

## üîç –ü—Ä–∏—á–∏–Ω—ã

1. **–°–µ—Ä–≤–µ—Ä –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è** - –æ—à–∏–±–∫–∞ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ
2. **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ—Ä—Ç** - —Å–µ—Ä–≤–µ—Ä —Å–ª—É—à–∞–µ—Ç –Ω–µ –Ω–∞ —Ç–æ–º –ø–æ—Ä—Ç—É
3. **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π host** - —Å–µ—Ä–≤–µ—Ä —Å–ª—É—à–∞–µ—Ç —Ç–æ–ª—å–∫–æ –Ω–∞ localhost
4. **–û—à–∏–±–∫–∞ –≤ –∫–æ–¥–µ** - –∏—Å–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ

## ‚úÖ –ß—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

### 1. –£–ª—É—á—à–µ–Ω –∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞
- –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π `PORT` (Railway/Heroku)
- –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π host `0.0.0.0` –¥–ª—è Docker
- –õ—É—á—à–µ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫

### 2. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω Dockerfile
- –ö–æ–ø–∏—Ä—É—é—Ç—Å—è –ø—Ä–∏–º–µ—Ä—ã —Ñ–∞–π–ª–æ–≤
- –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è —Ä–∞–±–æ—á–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è

### 3. –£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –ø—É—Ç–µ–π
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∑–∞–ø—É—Å–∫–∞ –∏–∑ —Ä–∞–∑–Ω—ã—Ö –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π
- –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø—É—Ç–∏ –∫ —Ñ–∞–π–ª–∞–º –ø—Ä–∏–º–µ—Ä–æ–≤

## üöÄ –ß—Ç–æ –¥–µ–ª–∞—Ç—å

### –®–∞–≥ 1: –û–±–Ω–æ–≤–∏—Ç–µ –∫–æ–¥ –Ω–∞ GitHub

```bash
git add .
git commit -m "Fix healthcheck: improve server startup"
git push
```

### –®–∞–≥ 2: –í Railway

1. –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–æ–µ–∫—Ç
2. –ù–∞–∂–º–∏—Ç–µ **"Redeploy"**
3. –ò–ª–∏ Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–¥–µ–ø–ª–æ–∏—Ç –ø–æ—Å–ª–µ push

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏

1. Railway ‚Üí **Deployments** ‚Üí –ø–æ—Å–ª–µ–¥–Ω–∏–π –¥–µ–ø–ª–æ–π
2. –û—Ç–∫—Ä–æ–π—Ç–µ **Logs** (–Ω–µ Build Logs)
3. –î–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è:
   ```
   üöÄ Insight Backend API –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è...
   üì° –ü–æ—Ä—Ç: 5000 (–∏–ª–∏ –¥—Ä—É–≥–æ–π)
   üåê Host: 0.0.0.0
   ```

### –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ healthcheck

–û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:
`https://your-app.railway.app/api/health`

–î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å—Å—è:
```json
{"status": "ok", "message": "Insight API is running"}
```

## üêõ –ï—Å–ª–∏ –≤—Å–µ –µ—â–µ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ Railway

–í –ª–æ–≥–∞—Ö –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å:
- ‚úÖ "üöÄ Insight Backend API –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è..."
- ‚ùå –ï—Å–ª–∏ –µ—Å—Ç—å –æ—à–∏–±–∫–∏ - —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ –∏—Ö

### –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:

1. **–û—à–∏–±–∫–∞ –∏–º–ø–æ—Ä—Ç–∞** - –ø—Ä–æ–≤–µ—Ä—å—Ç–µ `requirements.txt`
2. **–û—à–∏–±–∫–∞ –ø—É—Ç–µ–π** - –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ —Ñ–∞–π–ª—ã —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω—ã –≤ Docker
3. **–ü–æ—Ä—Ç –∑–∞–Ω—è—Ç** - Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞–∑–Ω–∞—á–∏—Ç –ø–æ—Ä—Ç

### –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å gunicorn

–ï—Å–ª–∏ Flask –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å gunicorn:

```dockerfile
CMD ["gunicorn", "-w", "4", "-b", "0.0.0.0:$PORT", "app:app"]
```

–ù–æ —Å–Ω–∞—á–∞–ª–∞ –ø–æ–ø—Ä–æ–±—É–π—Ç–µ —Ç–µ–∫—É—â—É—é –≤–µ—Ä—Å–∏—é!

---

## ‚úÖ –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

–°–µ—Ä–≤–µ—Ä –¥–æ–ª–∂–µ–Ω:
- ‚úÖ –ó–∞–ø—É—Å–∫–∞—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- ‚úÖ –û—Ç–≤–µ—á–∞—Ç—å –Ω–∞ healthcheck
- ‚úÖ –†–∞–±–æ—Ç–∞—Ç—å 24/7

